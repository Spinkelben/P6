\section{Code Coverage Reports}

We have a user story which states that Jenkins should provide code coverage metrics on for every project. This user story was generated by a group which were writing test of a database project, and wanted a measure of their progress. Their main request is for a percentage of LoC covered. A tool for code coverage report must at least provide this metric, but other more detailed metrics would also be nice to have. In version 0.10 of the New Android SDK Build System\parencite{new-build-android} support for the JaCoCo\parencite{jacoco-home} Java Code Coverage Library was included. It meets all of our demands for metrics, and is nicely integrated into the Android and Gradle build system. 
To make JaCoCo generate a report all one needs to do is to add the code shown in \listingref{lst:Jacoco} to the \mono{build.gralde} file of the project. 
\begin{gradlecode}[caption=Gradle script for enabling JaCoCo,label=lst:Jacoco]
dependencies {
    mavenCentral()
}
android {
    buildTypes {
        debug {
            testCoverageEnabled true
        }
    }
}
\end{gradlecode}{}
Now we generate code coverage reports locally and on Jenkins. We would like to also publish the code coverage results on Jenkins. There exists a Jenkins plugin for this purpose\parencite{jacoco-jenkins-plugin}. This plugin is easy to setup and provides detailed coverage statistics, and a overview with a percentage LoC covered. We use this plugin for publishing the code coverage metrics on Jenkins.