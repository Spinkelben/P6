% Chapters
\input{part_sprint2/sprint_planning}

\chapter{Upload of Apps to google play}
One of the user stories selected in this sprint is ``Automatic upload of alpha releases to google play´´. Currently the Jenkins server compiles the code but does nothing with the APKs. Before the APKs can be publish on Google Play, they need to be signed with our signature. The android plug-in for Gradle has functionality for automatic signing of APKs. We use this to sign. To sign we need a keystore file. We are not interested in everybody having this file as it serves as a proof of identification. We save the file on the server, which means that it becomes impossible to build a release version of the apps locally.
Every app has a version code, which is incremented every time a new release is published. This is not done per default, sp we need to set up the build to increase the version code every time a app is successfully built. 
Now the apks have been signed, we need to upload them. This can be done in two ways: via Jenkins\parencite{jenkins-play-plugin} or through Gradle\parencite{gradle-play-plugin}. The Jenkins plugin is easy to use, but requires that you know the exact name and location of the of the apk to upload.


\chapter{Some Chapter}
\section{Improving Build Times}

To identify in which parts of the build process to make faster, we measure the time different parts of the Launcher project take. The Launcher project is the main application which depends on many other subprojects. The timings are measured on the Jenkins server and shown in \figureref{fig:launcher_build_times}. The shows the build timings of the Launcher application and the different subprojects (\emph{Oasis-lib, Giraf-Component, Local-db, Barcode-scanner, and Metadata}), as well as the startup time for the emulator.\todo{Kan vi regne med, at submoduler bliver binære filer?}

\begin{figure}
%\begin{tikzpicture}
%  \begin{axis}[xbar stacked,
%axis y line*= none, axis x line*= bottom,
%xmajorgrids = true,
%ytick = data,
%yticklabels = {},
%tick align = outside,
%xtick pos = left,
%bar width=6mm,
%y=8mm,
%nodes near coords,
%legend style={
%  legend columns=-1,
%  anchor=north,
%  draw=none,
%},
%area legend,]
%    \addplot coordinates
%    {(209,0)};
%    \addlegendentry{Metadata}
%    \addplot coordinates
%    {(6625,0)};
%    \addlegendentry{Barcode-scanner}
%    \addplot coordinates
%    {(8393,0)};
%    \addlegendentry{Launcher}
%    \addplot coordinates
%    {(17223,0)};
%    \addlegendentry{Local-db}
%    \addplot coordinates
%    {(18000,0)};
%    \addlegendentry{Emulator}
%    \addplot coordinates
%    {(104696,0)};
%    \addlegendentry{Giraf-component}
%    \addplot coordinates
%    {(159497,0)};
%    \addlegendentry{Oasis-lib}
%  \end{axis}
%\end{tikzpicture}
\caption{Timings during build of the Launcher project.}\label{fig:launcher_build_times}
\end{figure}