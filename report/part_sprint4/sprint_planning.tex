%!TEX root = ../report.tex
\chapter{Sprint Planning}\label{chap:s4_sprintplanning}
This sprint planning proceeds as specified by the development method: We first have a sprint planning in the subproject followed by sprint planning in the group.

\begin{chapterorganization}
  \item in \sectionref{sec:S4_bd} we describe the backlog items we commit ourselves to during the \bd sprint planning meeting;
  \item in \sectionref{sec:S4_group} we describe the sprint planning in our group and list our tasks with reference to a backlog item.
\end{chapterorganization}

\section{\bdtitle Sprint Planning}\label{sec:S4_bd}
In the previous sprint we specified the backlog items used in the multi-project and how to formulate user stories (\sectionref{sec:processspecs}). This specification is followed this sprint.

During the \bd sprint planning we choose to work on four user stories and one technical work item. They are labeled with a number in parentheses for reference.

Each user story now has a number of \emph{conditions of satisfaction}. These conditions of satisfaction are listed as bullets below each user story. The conditions have been elicited by asking our customers and our product owner.

\begin{description}
  \item[(1)] As a developer I want libraries to have higher priority than other jobs in the build scheduling in Jenkins so that libraries are not delayed when several people are reliant on them.
  \begin{itemize}
    \item Jobs must not be starved
    \item Libraries must be prioritized higher than other job types
  \end{itemize}
  \item[(2)] As a developer I want monkey tests to run on the debug version of apps so that they can be tested on a test database.
  \begin{itemize}
    \item Monkey tests must run on debug APKs
  \end{itemize}
  \item[(3)] As a developer I want an easy way to download and install all apps so that it is easy to test the apps combined, and easy to show them to the external customers.
  \begin{itemize}
    \item Users should not have to install additional software onto their computers
    \item Users should be able to merely run a program that automatically downloads and installs all apps on a device
    \item After running the program, the device must contain the newest version of all apps
  \end{itemize}
  \item[(4)] As a future developer I want to know what is in Jenkins and how it is structured so that it is easy to start working with it
  \begin{itemize}
    \item Document how to configure projects
    \item Document configuration of authentication
    \item Document files used for automation
  \end{itemize}
  \item[(5)] As a developer I want to have a screenshot taken when a monkey test fails so that I can get feedback about the failure
  \begin{itemize}
    \item The last screen at a crash must be saved
  \end{itemize}
\end{description}

The following is the technical work item we work on in sprint 4. This technical work item is not formulated as a user story, as it is hard to have conditions of satisfaction for it. The build time can almost always be decreased, and so it would be a never-ending user story. We choose to work on it in this sprint, as it was prioritized highly by the other groups.

\begin{description}
  \item[(6) Decrease Job Build Times on Jenkins] When the queue on Jenkins is long, jobs can take a very long time to build. As we discussed in \sectionref{sec:non-emulator_testing}, the build times can be further reduced by working on the emulator part.
\end{description}

\section{Group Sprint Planning}\label{sec:S4_group}
At our internal sprint planning we divide the chosen backlog items into tasks and estimate them. For this sprint, we have a total of 70 half days of work. \tableref{tab:sprint4_tasks} shows the tasks we have committed to solve for this sprint. Tasks with a plus (+) are tasks that have been added during the sprint as they were discovered. Tasks with an estimation of 0 have been estimated as such, because they take virtually no time. There are three tasks in the sprint backlog which are not directly related to any backlog item (marked by n/a as their backlog item). We do these tasks as some acute needs developed during the sprint.

In addition to the tasks related to solving our chosen backlog items, we also work on report related tasks to finish our report, such as introduction, conclusion, etc. The total amount of time estimated for report tasks during this sprint is 56.

The total estimate of 18 for the original tasks is quite low. This is because we do a number of spikes, as indicated in parentheses for those tasks. We do these spikes because we have many uncertainties during this sprint. The final total estimate is therefore 37. The estimation for all tasks (report and non-report tasks) is 93. This far exceeds the time we have available for this sprint. Since we have a week following the sprint to do the final report changes, we postpone some report tasks.

\begin{table}%
  \centering
  \begin{tabular}{p{0.6\textwidth}rr}
    \toprule
    \textbf{Task} & \textbf{Backlog Item} & \textbf{Estimation} \\
    \midrule
    Investigate conditions of satisfaction for our back log items & n/a & 2 \\
    Make pre-commit hook (+) & n/a & 1 \\
    Check monkey tests after server crash (+) & n/a & 2 \\
    Install Jenkins priority plugin & 1 & 1 \\
    Choose schedule method for priority plugin & 1 & 2 \\
    Give metadata high priority (+) & 1 & 0 \\
    Make monkey tests use debug APKs & 2 & 1 \\
    Place debug APKs in a specific directory & 2 & 1 \\
    Make script for downloading and installing newest APKs & 3 & 2 \\
    Identify areas for Jenkins structure documentation (spike) & 4 & 2 \\
    Write about Jenkins structure & 4 & 2 \\
    Write about Jenkins files & 4 & 2 \\
    Make monkey tests take screenshot and publish them & 5 & 0 \\
    Make ADB-wifi app (+) & 6 & 2 \\
    Setup Jenkins Job for Simiasque (+) & 6 & 1 \\
    Investigate usage of physical tablets (spike) & 6 & 1 \\
    Run monkey test without emulator plugin (+) & 6 & 2 \\
    How do we automatically connect to tablets? (spike) & 6 & 2 \\
    Connect to all devices wirelessly from server (+) & 6 & 2 \\
    Uninstall APKs on all devices (+) & 6 & 1 \\
    Setup router (+) & 6 & 2 \\
    Only start an emulator when there are no connected devices (+) & 6 & 6 \\
    \midrule
    \textbf{Original total} & & 18 \\
    \textbf{Total} & & 37 \\
    \bottomrule
  \end{tabular}
\caption[Sprint 4 backlog]{Sprint backlog for sprint 4, excluding report tasks. The tasks are listed in no particular order.}
\label{tab:sprint4_tasks}
\end{table}